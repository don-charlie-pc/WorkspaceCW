/*! **********************************************************************************************
* 2014  ITESM Campus Guadalajara. Laboratorio de Microcontroladores 
*
*
* @file:      MTIM.h
* @author(s):  
* Abner Pérez Haro A01224776
* Juan Carlos Pérez Castellanos A01225629
*
* @brief (User's Manual)
*
**************************************************************************************************/

#ifndef MTIM_H_
#define MTIM_H_

 
/*************************************************************************************************/
/*********************						Includes						**********************/
/*************************************************************************************************/

/*************************************************************************************************/
/*********************						Defines							**********************/
/*************************************************************************************************/

/*************************************************************************************************/
/*********************						Typedefs						**********************/
/*************************************************************************************************/

/*************************************************************************************************/
/*********************			 	 Functions Like Macros					**********************/
/*************************************************************************************************/

/*************************************************************************************************/
/*********************					Extern Variables					**********************/
/*************************************************************************************************/

/*************************************************************************************************/
/*********************                  Extern Constants                    **********************/
/*************************************************************************************************/

/*************************************************************************************************/
/*********************					Function Prototypes					**********************/
/*************************************************************************************************/
void MTIM_Init(void);
/*
	Initialise MTIM as default:
	-Disable interrupt
	-Reset timer	
	-Timer is stopped
	-Bus clock selected
	-PRESCALER /4
	-Zero extra per delay
 */
void MTIM_Start(void);
/*
 	Start to run timer.
 */
void MTIM_Stop(void);
/*
 	Stop timer.
 */
char MTIM_IsRunning(void);
/*
 	If timer is running, it returns 1; otherwise 0.
 */
void MTIM_Reset(void);
/*
 	 Reset timer counting.
 */
char MTIM_SelectClkSource(char u8source);
/*
 	Change clock source:
 	0: BUSCLK
 	1: FIXED
 	2: EXTERNAL FALLING EDGE
 	3: EXTERNAL RISING EDGE
 */
char MTIM_SelectPrescaler(char u8prescaler);
/*
 	Change PRESCALER:
 	0: 1
 	1: 2
 	2: 4
 	3: 8
 	4: 16
 	5: 32
 	6: 64
 	7: 128
 	8: 256
 */
void MTIM_InterruptOn(void);
/*
	Enable MTIM interrupt
 */
void MTIM_InterruptOff(void);
/*
	Disable MTIM interrupt
 */
void MTIM_SetTimerModulo(char u8value);
/*
	Write a 8 bit value to timer modulo
 */
void MTIM_SetExtraFlags(char u8numFlags);
/*
 	Set extra interrupt flags until the timer stops
 */

/*************************************************************************************************/
#endif /* MTIM_H_ */
